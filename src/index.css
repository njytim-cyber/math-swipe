@import "tailwindcss";

/* ── Theme ── */
@theme {
  --font-chalk: "Fredericka the Great", cursive;
  --font-ui: "Architects Daughter", cursive, sans-serif;
  --color-board: #1b1b1b;
  --color-chalk: #e0ddd5;
  --color-correct: #4ade80;
  --color-wrong: #f87171;
  --color-gold: #fbbf24;
  --color-streak-fire: #f97316;
}

/* ── Base ── */
@layer base {

  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    -webkit-tap-highlight-color: transparent;
  }

  html,
  body,
  #root {
    width: 100%;
    height: 100%;
    overflow: hidden;
    touch-action: none;
    user-select: none;
    -webkit-user-select: none;
    position: fixed;
    inset: 0;
  }

  body {
    background: var(--color-board);
    color: var(--color-chalk);
    font-family: var(--font-ui);
    -webkit-font-smoothing: antialiased;
  }
}

/* ── Blackboard texture (static, rendered once) ── */
.blackboard-bg {
  background-color: var(--color-board);
  background-image:
    radial-gradient(ellipse at 15% 40%, rgba(28, 50, 35, 0.25) 0%, transparent 60%),
    radial-gradient(ellipse at 85% 25%, rgba(22, 38, 55, 0.20) 0%, transparent 55%),
    radial-gradient(ellipse at 50% 80%, rgba(40, 30, 20, 0.15) 0%, transparent 50%);
}

/* ── Chalk text — minimal, no filters ── */
.chalk-text {
  color: var(--color-chalk);
  will-change: transform;
}

/* ── DRY font utilities ── */
.chalk {
  font-family: var(--font-chalk);
}

.ui {
  font-family: var(--font-ui);
}



/* ── Feedback flash overlays ── */
@keyframes correct-flash {
  0% {
    opacity: 0;
  }

  25% {
    opacity: 0.12;
  }

  100% {
    opacity: 0;
  }
}

@keyframes wrong-flash {
  0% {
    opacity: 0;
  }

  25% {
    opacity: 0.10;
  }

  100% {
    opacity: 0;
  }
}

.flash-correct {
  animation: correct-flash 0.4s ease-out forwards;
  background: var(--color-correct);
}

.flash-wrong {
  animation: wrong-flash 0.5s ease-out forwards;
  background: var(--color-wrong);
}

/* ── Streak fire (GPU-only, no filter) ── */
@keyframes fire-glow {

  0%,
  100% {
    text-shadow: 0 0 6px var(--color-streak-fire);
  }

  50% {
    text-shadow: 0 0 16px var(--color-gold), 0 0 24px var(--color-streak-fire);
  }
}

.on-fire {
  animation: fire-glow 0.6s ease-in-out infinite;
}

/* ── GPU hints for animated elements ── */
.gpu-layer {
  will-change: transform, opacity;
  transform: translateZ(0);
}

/* ── Desktop gate ── */
.desktop-gate {
  display: none;
}

@media (min-width: 768px) and (min-height: 600px) {
  .desktop-gate {
    display: block !important;
  }

  .desktop-gate~* {
    display: none !important;
  }
}

/* ── Landscape mobile overrides ── */
@media (orientation: landscape) and (max-height: 500px) {

  /* Compact score area */
  .landscape-score {
    padding-top: 8px !important;
  }

  .landscape-score .text-7xl,
  .landscape-score .text-8xl {
    font-size: 2.5rem !important;
  }

  /* Smaller question text */
  .landscape-question {
    font-size: 2.5rem !important;
    margin-bottom: 0.5rem !important;
  }

  /* Compact answer area */
  .landscape-answers {
    padding-bottom: 2rem !important;
    gap: 0.5rem !important;
  }

  .landscape-answers button {
    width: 3.5rem !important;
    height: 3.5rem !important;
  }

  /* Tighter bottom nav */
  .landscape-nav {
    padding-top: 0.25rem !important;
    padding-bottom: 0.25rem !important;
  }

  .landscape-nav svg {
    width: 1rem !important;
    height: 1rem !important;
  }

  .landscape-nav span {
    font-size: 8px !important;
  }

  /* Hide Mr Chalk in landscape to save space */
  .landscape-hide {
    display: none !important;
  }
}